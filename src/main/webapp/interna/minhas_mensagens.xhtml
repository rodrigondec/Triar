<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
	template="/include/template.xhtml">
	
	<ui:define name="titulo">
		<title>Triar - Mensagens</title>
	</ui:define>

	<ui:define name="header">
		<h2>Minhas Mensagens</h2>
		<hr />
	</ui:define>
	
	<ui:define name="conteudo">	
		<div class="col-lg-4 col-lg-offset-4">
			<div class="panel panel-default">				
				<h:dataTable value="#{usuarioMB.mensagens}" var="m" class="table">
					<h:column>
						<f:facet name="header">TÃ­tulo</f:facet>
						<h:outputText value="#{m.titulo}" />
					</h:column>
					<h:column>
						<a href="#" data-toggle="modal"  data-target="#myModal#{m.idmensagem}">
							Ler
						</a>
						<div id="myModal#{m.idmensagem}" class="modal fade" role="dialog">
					  		<div class="modal-dialog modal-sm">
							    <!-- Modal content-->
							    <div class="modal-content">
									<div class="modal-header">
										<button type="button" class="close" data-dismiss="modal">x</button>
										<h4 class="modal-title"><h:outputText value="#{m.titulo}" /></h4>
									</div>
									<div class="modal-body">
										<h:outputText value="#{m.corpo}" />
									</div>
								</div>
							</div>
						</div>
					</h:column>
					<h:column>
						<h:form>
							<h:commandLink action="#{mensagemMB.deletar(m)}" value="Deletar" />
						</h:form>
					</h:column>
				</h:dataTable>
			</div>
		</div>		
	</ui:define>
	
</ui:composition>